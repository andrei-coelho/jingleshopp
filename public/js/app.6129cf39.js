(function(){"use strict";var t={1084:function(t,e,i){var a=i(9242),s=i(3396),o=i(7139);const n={class:"container-fluid bg-background"},l={class:"row"},r={class:"col-12"},c={class:"container text-center"},d={class:"row justify-content-center"},u={class:"col-12 p-2"},p=["src"],m={class:"col-12 p-2"},v=["src"],h={class:"col-12 col-lg-5"},g={key:0},f={class:"p-2 bg-black text-white d-block mx-auto w-auto"},_={class:"col-12",style:{"min-height":"450px"}},y={class:"row"};function b(t,e,i,a,b,w){const x=(0,s.up)("FooterTemplate");return(0,s.wg)(),(0,s.iD)("div",n,[(0,s._)("div",l,[(0,s._)("div",r,[(0,s._)("div",c,[(0,s._)("div",d,[(0,s._)("div",u,[(0,s._)("img",{class:"d-block mx-auto",src:b.logo_jingle},null,8,p)]),(0,s._)("div",m,[(0,s._)("img",{class:"d-block mx-auto",src:b.logo_card},null,8,v)]),(0,s._)("div",h,[""!=b.userName?((0,s.wg)(),(0,s.iD)("div",g,[(0,s._)("h5",f,"Olá "+(0,o.zw)(b.userName)+"! Veja os jingles que criamos para você! ",1)])):(0,s.kq)("",!0)])])])]),(0,s._)("div",_,[((0,s.wg)(),(0,s.j4)((0,s.LL)(b.component),{players:b.players,token_files:b.token_files},null,8,["players","token_files"]))])]),(0,s._)("div",y,[(0,s.Wm)(x)])])}const w={class:"container"},x=(0,s.uE)('<div class="row py-5"><div class="col-12 col-lg-6 pa-2"><img class="w-100 d-block mx-auto" src="/imagens/duvidas.png" alt=""></div><div class="col-12 col-lg-6 pa-2"><img class="w-100 d-block mx-auto" src="/imagens/logo_sotaque.png" alt=""></div></div>',1),k=[x];function C(t,e){return(0,s.wg)(),(0,s.iD)("div",w,k)}var j=i(89);const O={},S=(0,j.Z)(O,[["render",C]]);var D=S;const N={class:"container"},A=(0,s.uE)('<div class="row justify-content-center" style="margin-top:40px;" data-v-3db5af04><div class="col-12 text-center pb-3" style="height:100px;" data-v-3db5af04><div class="animation d-block mx-auto" data-v-3db5af04><div class="load-i load-time1" data-v-3db5af04></div><div class="load-i load-time2" data-v-3db5af04></div><div class="load-i load-time3" data-v-3db5af04></div></div></div><div class="col-8 col-md-2" data-v-3db5af04><h5 class="p-3 bg-black text-center text-white" data-v-3db5af04>aguarde...</h5></div></div>',1),F=[A];function T(t,e){return(0,s.wg)(),(0,s.iD)("div",N,F)}const L={},q=(0,j.Z)(L,[["render",T],["__scopeId","data-v-3db5af04"]]);var z=q;const E={class:"container"},P={class:"row"};function $(t,e,i,a,o,n){const l=(0,s.up)("PlayerComponent");return(0,s.wg)(),(0,s.iD)("div",E,[(0,s._)("div",P,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.players,((t,e)=>((0,s.wg)(),(0,s.iD)("div",{class:"col-12",key:e},[(0,s.Wm)(l,{player:t,itemK:e,token_files:i.token_files},null,8,["player","itemK","token_files"])])))),128))])])}const I=t=>((0,s.dD)("data-v-23d1f25e"),t=t(),(0,s.Cn)(),t),K={class:"container"},Z={class:"row py-2 justify-content-center"},M={class:"col-12 col-lg-8 bg-black p-2",style:{"border-radius":"20px"}},U={class:"row p-0 m-0"},V={class:"col-3 col-lg-2"},B={key:0},G=I((()=>(0,s._)("div",{id:"loadingbtn",class:"spinner-border text-primary mt-4",style:{width:"3rem",height:"3rem"},role:"status"},[(0,s._)("span",{class:"visually-hidden"},"Loading...")],-1))),J=[G],W={key:1},H=["src"],Y={key:2},Q=["src"],R={class:"col-8 col-lg-9"},X={class:"row"},tt={class:"col-12"},et={class:"text-white text-start"},it={class:"col-12"},at=["max"],st={class:"col-12"},ot={class:"row"},nt={class:"col-5"},lt={class:"text-white",style:{"font-size":"12px"}},rt=(0,s.uE)('<div class="anim1 loadim" data-v-23d1f25e></div><div class="anim2 loadim" data-v-23d1f25e></div><div class="anim3 loadim" data-v-23d1f25e></div><div class="anim4 loadim" data-v-23d1f25e></div><div class="anim5 loadim" data-v-23d1f25e></div>',5),ct=[rt],dt={class:"col-4"},ut=["src"],pt={class:"col-1"},mt={class:"text-white text-center",style:{"margin-top":"30px"}};function vt(t,e,i,n,l,r){return(0,s.wg)(),(0,s.iD)("div",K,[(0,s._)("div",Z,[(0,s._)("div",M,[(0,s._)("div",U,[(0,s._)("div",V,["loading"==l.status?((0,s.wg)(),(0,s.iD)("div",B,J)):(0,s.kq)("",!0),"paused"==l.status?((0,s.wg)(),(0,s.iD)("div",W,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>r.play()),id:"playbtn",class:"mt-3",style:{"background-color":"transparent",border:"0px"}},[(0,s._)("img",{src:l.play_ic,style:{border:"0px"}},null,8,H)])])):(0,s.kq)("",!0),"played"==l.status?((0,s.wg)(),(0,s.iD)("div",Y,[(0,s._)("button",{onClick:e[1]||(e[1]=t=>r.pause()),id:"pausebtn",class:"btn mt-3",style:{"background-color":"transparent",border:"0px"}},[(0,s._)("img",{src:l.pause_ic,style:{border:"none"}},null,8,Q)])])):(0,s.kq)("",!0)]),(0,s._)("div",R,[(0,s._)("div",X,[(0,s._)("div",tt,[(0,s._)("p",et,(0,o.zw)(i.player.nome),1)]),(0,s._)("div",it,[(0,s.wy)((0,s._)("input",{onClick:e[2]||(e[2]=t=>r.pause()),type:"range",class:"music-timeline",min:"0",max:i.player.seconds,"onUpdate:modelValue":e[3]||(e[3]=t=>l.time=t)},null,8,at),[[a.nr,l.time]])]),(0,s._)("div",st,[(0,s._)("div",ot,[(0,s._)("div",nt,[(0,s._)("span",lt,(0,o.zw)(l.timestr)+" | "+(0,o.zw)(l.totaltimeStr),1)]),(0,s._)("div",{class:(0,o.C_)(("played"==l.status?"do-animation":"")+" col-3 text-center")},ct,2),(0,s._)("div",dt,[(0,s.wy)((0,s._)("input",{type:"range",min:"1",max:"150","onUpdate:modelValue":e[4]||(e[4]=t=>l.volume=t),class:"volume",style:{"margin-top":"5px","margin-left":"5px",float:"right"}},null,512),[[a.nr,l.volume]]),(0,s._)("img",{style:{width:"15px",float:"right","margin-top":"3px"},src:l.volume_ic,alt:""},null,8,ut)])])])])]),(0,s._)("div",pt,[(0,s._)("h1",mt,(0,o.zw)(i.itemK+1),1)])])])])])}i(2801),i(3408),i(4590);var ht={props:{player:Object,itemK:Number,token_files:String},data(){return{play_ic:"/imagens/play_ic.png",pause_ic:"/imagens/pause_ic.png",volume_ic:"/imagens/volume_ic.png",status:"loading",time:0,timer:null,total_sec:0,volume:50,totaltimeStr:"00:00",timestr:"00:00",dataFile:"",source:null,clickedTime:!1,bytes:[],audioCtx:null,timelineClicked:!1,gainNode:null}},async created(){let t=await fetch("http://jingleshopp.com/api/files/get",{method:"post",body:JSON.stringify({file:this.player.slug,token:this.token_files})});if(200!=t.status)return;let e=await t.json();this.dataFile=e.data,this.audioCtx=new(window.AudioContext||window.webkitAudioContext);var i=window.atob(this.dataFile),a=i.length;let s=new Uint8Array(a);for(var o=0;o<a;o++)s[o]=i.charCodeAt(o);this.bytes=s.buffer,this.source=this.audioCtx.createBufferSource(),this.gainNode=this.audioCtx.createGain(),this.audioCtx.decodeAudioData(this.bytes,(t=>{this.source.buffer=t,this.setTotalSec()}),(t=>console.error(`Error with decoding audio data: ${t.err}`)))},methods:{calcTime(t){let e=t>=60?Math.floor(t/60):0,i=t<60?t:t%60,a=(e<10?`0${e}`:String(e))+":"+(i<10?`0${i}`:String(i));return a},play(){var t=window.atob(this.dataFile),e=t.length;let i=new Uint8Array(e);for(var a=0;a<e;a++)i[a]=t.charCodeAt(a);this.bytes=i.buffer,this.source=this.audioCtx.createBufferSource(),this.gainNode=this.audioCtx.createGain(),this.audioCtx.decodeAudioData(this.bytes,(t=>{this.source.buffer=t,this.source.connect(this.audioCtx.destination),this.source.loop=!1,this.source.start(0,this.time),this.gainNode.gain.value=this.volume/100,this.gainNode.connect(this.audioCtx.destination),this.source.connect(this.gainNode)}),(t=>console.error(`Error with decoding audio data: ${t.err}`))),this.status="played",this.timer=setInterval((()=>{let t=parseInt(this.time);if(t>this.total_sec)return this.time=0,void this.pause();this.time=t+1}),1e3)},pause(){this.source.stop(0),this.status="paused",clearInterval(this.timer)},setTotalSec(){0==this.total_sec&&(this.total_sec=Math.floor(this.source.buffer.duration),this.totaltimeStr=this.calcTime(this.total_sec))}},watch:{dataFile(){this.status="paused"},time(t){this.time=t;let e=t>=60?Math.floor(t/60):0,i=t<60?t:t%60;this.timestr=(e<10?`0${e}`:String(e))+":"+(i<10?`0${i}`:String(i))},volume(t){this.volume=t,this.gainNode.gain.value=this.volume/100}}};const gt=(0,j.Z)(ht,[["render",vt],["__scopeId","data-v-23d1f25e"]]);var ft=gt,_t={components:{PlayerComponent:ft},props:{players:Array,token_files:String}};const yt=(0,j.Z)(_t,[["render",$]]);var bt=yt,wt={components:{FooterTemplate:D,LoadingComponent:z,ListPlayersComponent:bt},data(){return{component:"LoadingComponent",token_files:"",userName:"",logo_jingle:"/imagens/logo_jingleshopp.png",logo_card:"/imagens/audiocard_logo.png",players:[]}},async created(){let t=window.location.pathname,e=t.split("/"),i=""!=e[e.length-1].trim()?e[e.length-1].trim():e[e.length-2].trim(),a=await fetch("http://jingleshopp.com/api/card/getLinkedFiles",{method:"post",body:JSON.stringify({token:i})});if(200!=a.status)return;const s=await a.json(),o=s.data;this.userName=o.pessoa.nome,this.players=o.files,this.token_files=o.token_files,this.component="ListPlayersComponent"}};const xt=(0,j.Z)(wt,[["render",b]]);var kt=xt;(0,a.ri)(kt).mount("#app")}},e={};function i(a){var s=e[a];if(void 0!==s)return s.exports;var o=e[a]={exports:{}};return t[a](o,o.exports,i),o.exports}i.m=t,function(){var t=[];i.O=function(e,a,s,o){if(!a){var n=1/0;for(d=0;d<t.length;d++){a=t[d][0],s=t[d][1],o=t[d][2];for(var l=!0,r=0;r<a.length;r++)(!1&o||n>=o)&&Object.keys(i.O).every((function(t){return i.O[t](a[r])}))?a.splice(r--,1):(l=!1,o<n&&(n=o));if(l){t.splice(d--,1);var c=s();void 0!==c&&(e=c)}}return e}o=o||0;for(var d=t.length;d>0&&t[d-1][2]>o;d--)t[d]=t[d-1];t[d]=[a,s,o]}}(),function(){i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,{a:e}),e}}(),function(){i.d=function(t,e){for(var a in e)i.o(e,a)&&!i.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:e[a]})}}(),function(){i.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={143:0};i.O.j=function(e){return 0===t[e]};var e=function(e,a){var s,o,n=a[0],l=a[1],r=a[2],c=0;if(n.some((function(e){return 0!==t[e]}))){for(s in l)i.o(l,s)&&(i.m[s]=l[s]);if(r)var d=r(i)}for(e&&e(a);c<n.length;c++)o=n[c],i.o(t,o)&&t[o]&&t[o][0](),t[o]=0;return i.O(d)},a=self["webpackChunkaudiocard_client"]=self["webpackChunkaudiocard_client"]||[];a.forEach(e.bind(null,0)),a.push=e.bind(null,a.push.bind(a))}();var a=i.O(void 0,[998],(function(){return i(1084)}));a=i.O(a)})();
//# sourceMappingURL=app.6129cf39.js.map